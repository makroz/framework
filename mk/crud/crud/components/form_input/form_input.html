[[compile:]]

[* if '[[var:]]unico[[:var]]'=='1' *]

[% append js.inline %]
var old_[[var:]]id[[:var]]='{% echo $item[[[var:]]id[[:var]]]; %}';
function isUnique_[[var:]]id[[:var]](){
	var dato=$('#[[var:]]id[[:var]]').val();
	if (dato!=old_[[var:]]id[[:var]]){
		old_[[var:]]id[[:var]]=dato;
		dataUnique('[[var:]]id[[:var]]',dato,function(msg){
			if (msg==1){
				alert('Ese {% echo $anexos[[[var:]]id[[:var]]][labelf] %} ya existe!!!');
				$('#[[var:]]id[[:var]]').focus();
			}
		});
	}
}
[% /append %]


[* /if *]

[[unique:]]{% php if ($_action=='ver'){  $clasver='ver';}else{  $clasver='';} %}[[:unique]]

[* if '[[var:]]tipo[[:var]]'=='alfa' *]
		<div class="input-field col [[var:]]clase[[:var]]">
	          <input id="[[var:]]id[[:var]]" name="[[var:]]id[[:var]]" type="text" class="alfa $clasver" width="[[var:]]tam[[:var]]" value='{% echo $item[[[var:]]id[[:var]]]; %}'  [[var:]]validate[[:var]] [[var:]]eventos[[:var]] {% if $_action=='ver' %} disabled="disabled" {% /if %} >
	          <label for="[[var:]]id[[:var]]">{% echo $anexos[[[var:]]id[[:var]]][labelf] %}</label>
	          <div class="error_input">{$errors[[[var:]]id[[:var]]][0]}</div>
		</div>	
[* /if *]

[* if '[[var:]]tipo[[:var]]'=='oculto' *]
<div class="input-field col [[var:]]clase[[:var]]">
	          <input  id="[[var:]]id[[:var]]" name="[[var:]]id[[:var]]" type="hidden" value='{% echo $item[[[var:]]id[[:var]]]; %}' {% if $_action=='ver' %} disabled="disabled" {% /if %} >
</div>
[* /if *]

[* if '[[var:]]tipo[[:var]]'=='check' *]
	<div class="input-field col [[var:]]clase[[:var]]">

	 {% if $_action!='ver' %} 
      <input type="checkbox" id="[[var:]]id[[:var]]" name='[[var:]]id[[:var]]' class="check $clasver" value="[[var:]]dataon[[:var]]" {% if ($item[[[var:]]id[[:var]]]=="[[var:]]dataon[[:var]]") %} checked="checked" {% /if %} [[var:]]eventos[[:var]]  />
  {% /if %}
     {% else %}
     <input id="[[var:]]id[[:var]]" name="[[var:]]id[[:var]]" type="text" class="alfa $clasver" width="[[var:]]tam[[:var]]" value='{% php if ($item[[[var:]]id[[:var]]]=="[[var:]]dataon[[:var]]"){ $_valor= $anexos[[[var:]]id[[:var]]][labelon]; } else { $_valor=$anexos[[[var:]]id[[:var]]][labeloff];} %} {% echo $_valor; %}'  disabled="disabled"  >
     {% /else %}
    <label for="[[var:]]id[[:var]]">{% echo $anexos[[[var:]]id[[:var]]][labelf] %}</label>
     <div class="error_input">{$errors[[[var:]]id[[:var]]][0]}</div>
     </div>

[* /if *]

[* if '[[var:]]tipo[[:var]]'=='float' *]
		<div class="input-field col [[var:]]clase[[:var]]">
	          <input id="[[var:]]id[[:var]]" name="[[var:]]id[[:var]]" type="text" class="float $clasver" data-decimal='[[var:]]decimal[[:var]]' width="[[var:]]tam[[:var]]" value='{% echo $item[[[var:]]id[[:var]]]; %}' [[var:]]validate[[:var]] [[var:]]eventos[[:var]] {% if $_action=='ver' %} disabled="disabled" {% /if %} >
	         <label for="[[var:]]id[[:var]]">{% echo $anexos[[[var:]]id[[:var]]][labelf] %}</label>
	          <div class="error_input">{$errors[[[var:]]id[[:var]]][0]}</div>
		</div>	

[* /if *]

[* if '[[var:]]tipo[[:var]]'=='selec' *]
	{% php $options=\\Mk\\Tools\\Form::getOptions($anexos[[[var:]]id[[:var]]][options],$item[[[var:]]id[[:var]]],'Seleccione '.$anexos[[[var:]]id[[:var]]][label]); %}
		<div class="input-field col [[var:]]clase[[:var]]">
		 {% if $_action!='ver' %} 
		<select id="[[var:]]id[[:var]]" name="[[var:]]id[[:var]]" class="select $clasver" [[var:]]validate[[:var]] [[var:]]eventos[[:var]]  >
      {% echo $options; %}
    </select>
     {% /if %}
     {% else %}
     <input id="[[var:]]id[[:var]]" name="[[var:]]id[[:var]]" type="text" class="alfa $clasver" width="[[var:]]tam[[:var]]" value='{% echo $anexos[[[var:]]id[[:var]]][options][$item[[[var:]]id[[:var]]]]; %}'  disabled="disabled"  >
     {% /else %}
    	          <label for="[[var:]]id[[:var]]">{% echo $anexos[[[var:]]id[[:var]]][labelf] %}</label>
    	          <div class="error_input">{$errors[[[var:]]id[[:var]]][0]}</div>
		</div>	

[* /if *]

[[:compile]]
