{"crud":"generar","singular":"Ingreso a Almacen","plural":"Ingresos a Almacen","seguridad":"resp","listAction":"-1","field":{"pk":{"label":"Id","labelf":"","uso":"-1","usof":"oculto","tam":"s12","posf":"0","funcion":"st","fcustom":"","dec":"0","checkvalor":"","tipolista":"show","tamlista":"60px","checklista":"","listalista":"","campojoin":"","f1":"","search":"1","required":"0","ver":"","unico":"","f2":"","listaeventos":"","validar":"numerico","defVal":"","var":"_pk","i_pre":"","i_pos":""},"fecha":{"label":"Fecha","labelf":"","uso":"A","usof":"datetime","tam":"s3","posf":"0","funcion":"datetime","fcustom":"","dec":"0","checkvalor":"","tipolista":"","tamlista":"120px","checklista":"","listalista":"","campojoin":"","f1":"","search":"1","required":"1","ver":"0","unico":"0","f2":"","listaeventos":"","validar":"","defVal":"","var":"_fecha","i_pre":"<div class=\"row form-config-section componente i_c-section bindered\" id=\"c-section-0\" data-campo=\"c-section-0\" data-type=\"c-section\"><span class=\"campos-edit\"><\/span><span class=\"campos-edit\"><\/span> <div class=\"dropin row         \">","i_pos":""},"fk_almacenes":{"label":"Almacen","labelf":"","uso":"A","usof":"selecdb","tam":"s6","posf":"2","funcion":"st","fcustom":"","dec":"0","checkvalor":"","tipolista":"join","tamlista":"217px","checklista":"","listalista":"","campojoin":"almacenes|nombre||","f1":"","search":"1","required":"1","ver":"0","unico":"0","f2":"","listaeventos":"","validar":"numerico","defVal":"","var":"_fk_almacenes","i_pre":"","i_pos":""},"fk_prod":{"label":"Producto","labelf":"","uso":"A","usof":"selecdb","tam":"s6","posf":"3","funcion":"st","fcustom":"","dec":"0","checkvalor":"","tipolista":"join","tamlista":"","checklista":"","listalista":"","campojoin":"prod|nom|1||fk_unidades, unidades.tipo|left join unidades on (fk_unidades=unidades.pk)","f1":"","search":"1","required":"1","ver":"0","unico":"0","f2":"","listaeventos":"onchange|onChangeProd();|*","validar":"numerico","defVal":"","var":"_fk_prod","i_pre":"","i_pos":""},"cant":{"label":"Cant","labelf":"","uso":"A","usof":"float","tam":"s4","posf":"4","funcion":"bdf","fcustom":"","dec":"2","checkvalor":"","tipolista":"","tamlista":"113px","checklista":"","listalista":"","campojoin":"","f1":"","search":"1","required":"1","ver":"","unico":"","f2":"","listaeventos":"","validar":"numerico","defVal":"","var":"_cant","i_pre":"","i_pos":""},"costo":{"label":"Costo","labelf":"","uso":"A","usof":"float","tam":"s4","posf":"6","funcion":"bdf","fcustom":"","dec":"2","checkvalor":"","tipolista":"-1","tamlista":"80","checklista":"","listalista":"","campojoin":"","f1":"","search":"1","required":"1","ver":"","unico":"","f2":"","listaeventos":"","validar":"numerico","defVal":"","var":"_costo","i_pre":"","i_pos":""},"fk_unidades":{"label":"Unidad","labelf":"","uso":"A","usof":"selecdb","tam":"s2","posf":"5","funcion":"st","fcustom":"","dec":"0","checkvalor":"","tipolista":"join","tamlista":"163px","checklista":"","listalista":"","campojoin":"unidades|nombre|1|(tipo='%s')||","f1":"","search":"1","required":"1","ver":"0","unico":"0","f2":"","listaeventos":"","validar":"numerico","defVal":"","var":"_fk_unidades","i_pre":"","i_pos":""},"tipo":{"label":"Tipo","labelf":"Tipo de Ingreso","uso":"A","usof":"selec","tam":"s3","posf":"1","funcion":"st","fcustom":"","dec":"0","checkvalor":"1\/0","tipolista":"lista","tamlista":"228px","checklista":"","listalista":"C|Compra||*I|Inventario Inicial||*T|Traspaso||*D|Devolucion||*A|Ajuste||*","campojoin":"","f1":"","search":"1","required":"0","ver":"0","unico":"0","f2":"","listaeventos":"","validar":"","defVal":"C","var":"_tipo","i_pre":"","i_pos":""},"tipodoc":{"label":"Tipo Doc.","labelf":"Tipo de Documento","uso":"A","usof":"selec","tam":"s4","posf":"7","funcion":"st","fcustom":"","dec":"0","checkvalor":"1\/0","tipolista":"show","tamlista":"108px","checklista":"","listalista":"F|Factura||*R|Recibo||*X|Ninguno||*","campojoin":"","f1":"","search":"1","required":"0","ver":"0","unico":"0","f2":"","listaeventos":"","validar":"","defVal":"F","var":"_tipodoc","i_pre":"","i_pos":""},"nfac":{"label":"Doc","labelf":"No. de Factura\/Recibo","uso":"A","usof":"alfa","tam":"s4","posf":"8","funcion":"st","fcustom":"","dec":"0","checkvalor":"","tipolista":"show","tamlista":"201px","checklista":"","listalista":"","campojoin":"","f1":"","search":"1","required":"0","ver":"0","unico":"0","f2":"","listaeventos":"","validar":"","defVal":"","var":"_nfac","i_pre":"","i_pos":""},"fecven":{"label":"Vence","labelf":"Fecha de Vencimiento","uso":"A","usof":"date","tam":"s6","posf":"10","funcion":"date","fcustom":"","dec":"0","checkvalor":"","tipolista":"-1","tamlista":"176px","checklista":"","listalista":"","campojoin":"","f1":"","search":"1","required":"0","ver":"0","unico":"0","f2":"","listaeventos":"","validar":"","defVal":"","var":"_fecven","i_pre":"","i_pos":""},"serial":{"label":"Serial","labelf":"","uso":"A","usof":"alfa","tam":"s6","posf":"9","funcion":"st","fcustom":"","dec":"0","checkvalor":"","tipolista":"-1","tamlista":"192.5px","checklista":"","listalista":"","campojoin":"","f1":"","search":"1","required":"","ver":"","unico":"","f2":"","listaeventos":"","validar":"","defVal":"","var":"_serial","i_pre":"","i_pos":""},"fk_resp":{"label":"Resp","labelf":"Responsable","uso":"A","usof":"selecdb","tam":"s12","posf":"11","funcion":"st","fcustom":"","dec":"0","checkvalor":"","tipolista":"join","tamlista":"124px","checklista":"","listalista":"","campojoin":"resp|nombre||","f1":"","search":"1","required":"1","ver":"0","unico":"0","f2":"","listaeventos":"","validar":"numerico","defVal":"","var":"_fk_resp","i_pre":"","i_pos":"<\/div><\/div>"},"status":{"label":"St","labelf":"","uso":"G","usof":"-1","tam":"s12","posf":"13","funcion":"custom","fcustom":"1","dec":"0","checkvalor":"1\/0","tipolista":"status","tamlista":"45px","checklista":"","listalista":"","campojoin":"","f1":"","search":"0","required":"0","ver":"","unico":"","f2":"","listaeventos":"","validar":"","defVal":"1","var":"_status","i_pre":"","i_pos":""}},"codejs":"function onChangeProd(){\r\n  var dato=$('#fk_prod option:selected');\r\n  var sel=$(dato).data('tag');\r\n  sel=sel.split(',');\r\n  if (sel[0]>0){\r\n    reaction('campo=fk_unidades&arg[]='+sel[1]+'&sel='+sel[0],'getListFor','','#fk_unidades',actualizarUI);\r\n  }\r\n}","codejsopenform":"","codecontroler":"\r\nclass Ingalm_controller extends CrudDb\r\n{\r\n\t\/**\r\n\t* @readwrite\r\n\t*\/\r\n\t\/\/protected $_secureKey='User';\r\n\t\t\r\n\tpublic function __construct($options = array())\r\n\t{\r\n\t\tparent::__construct($options);\r\n\t\t\/\/$this->_model =$this->_getLoged();\r\n\t}\r\n\r\n\tpublic function getAnexos($anexos=array(),$join=0){\r\n\t\t$anexos=parent::getAnexos($anexos);\r\n\t\t$anexos['listAction']=\"show\";\r\n\t\t$anexos['fk_almacenes']['join']['table']='almacenes';\r\n\t\t$anexos['fk_almacenes']['join']['campo']='nombre';\r\n\t\t$anexos['fk_almacenes']['cargaAjax']=1;\r\n\t\t$anexos['fk_prod']['join']['table']='prod';\r\n\t\t$anexos['fk_prod']['join']['campo']='nom';\r\n\t\t$anexos['fk_prod']['join']['tag']=\"fk_unidades, unidades.tipo\";\r\n\t\t$anexos['fk_prod']['join']['join']=\"left join unidades on (fk_unidades=unidades.pk)\";\r\n\t\t$anexos['fk_prod']['cargaAjax']=1;\r\n\t\t$anexos['fk_unidades']['join']['table']='unidades';\r\n\t\t$anexos['fk_unidades']['join']['campo']='nombre';\r\n\t\t$anexos['fk_unidades']['join']['cond']=\"(tipo='%s')\";\r\n\t\t$anexos['fk_unidades']['cargaAjax']=1;\r\n\t\t$anexos['tipo']['defVal']='C';\r\n\t\t$anexos['tipo']['options']['C']='Compra';\r\n\t\t$anexos['tipo']['options']['I']='Inventario Inicial';\r\n\t\t$anexos['tipo']['options']['T']='Traspaso';\r\n\t\t$anexos['tipo']['options']['D']='Devolucion';\r\n\t\t$anexos['tipo']['options']['A']='Ajuste';\r\n\t\t$anexos['tipodoc']['defVal']='F';\r\n\t\t$anexos['tipodoc']['options']['F']='Factura';\r\n\t\t$anexos['tipodoc']['options']['R']='Recibo';\r\n\t\t$anexos['tipodoc']['options']['X']='Ninguno';\r\n\t\t$anexos['fk_resp']['join']['table']='resp';\r\n\t\t$anexos['fk_resp']['join']['campo']='nombre';\r\n\t\t$anexos['fk_resp']['cargaAjax']=1;\r\n\t\t$anexos['status']['defVal']='1';\r\n\t\tif ($join!=0){\r\n\t\t\t$anexos['fk_almacenes']['options']=$this->actionGetListFor('fk_almacenes',$anexos);\r\n\t\t\t$anexos['fk_prod']['options']=$this->actionGetListFor('fk_prod',$anexos);\r\n\t\t\t$anexos['fk_unidades']['options']=$this->actionGetListFor('fk_unidades',$anexos);\r\n\t\t\t$anexos['fk_resp']['options']=$this->actionGetListFor('fk_resp',$anexos);\r\n\t\t}\r\n\r\n\t\tretu\r\n","listatamvar1":"fk_prod"}