{"crud":"generar","singular":"Responsable","plural":"Responsables","seguridad":"","listAction":"-1","field":{"pk":{"label":"Id","labelf":"","uso":"-1","usof":"oculto","tam":"s12","posf":"0","funcion":"st","fcustom":"","dec":"0","checkvalor":"","tipolista":"list","tamlista":"60px","checklista":"","listalista":"","campojoin":"","f1":"","search":"1","required":"","readonly":"","unico":"","f2":"","listaeventos":"","validar":"numerico","defVal":"","codejs":"","codejsopenform":"","codecontroler":"","listafilter":"0","var":"_pk","i_pre":"","i_pos":""},"doc":{"label":"Doc","labelf":"Documento de Identidad","uso":"A","usof":"alfa","tam":"s12 m3","posf":"0","funcion":"st","fcustom":"","dec":"0","checkvalor":"","tipolista":"list","tamlista":"245.5833282470703px","checklista":"","listalista":"","campojoin":"","f1":"","search":"1","required":"1","readonly":"","unico":"1","f2":"","listaeventos":"","validar":"","defVal":"","codejs":"","codejsopenform":"","codecontroler":"","listafilter":"0","var":"_doc","i_pre":"<div class=\"row form-config-section componente i_c-section bindered\" id=\"c-section-0\" data-campo=\"c-section-0\" data-type=\"c-section\"><span class=\"campos-edit\"><\/span><span class=\"campos-edit\"><\/span> <div class=\"dropin row       \">","i_pos":""},"nombre":{"label":"Nombre","labelf":"","uso":"A","usof":"alfa","tam":"s12 m7","posf":"1","funcion":"st","fcustom":"","dec":"0","checkvalor":"","tipolista":"","tamlista":"","checklista":"","listalista":"","campojoin":"","f1":"","search":"1","required":"1","readonly":"","unico":"0","f2":"","listaeventos":"onblur|getIniciales();|*","validar":"","defVal":"","codejs":"","codejsopenform":"","codecontroler":"","listafilter":"0","var":"_nombre","i_pre":"","i_pos":""},"iniciales":{"label":"Iniciales","labelf":"","uso":"A","usof":"alfa","tam":"s12 m2","posf":"2","funcion":"st","fcustom":"","dec":"0","checkvalor":"","tipolista":"-1","tamlista":"50","checklista":"","listalista":"","campojoin":"","f1":"","search":"1","required":"0","readonly":"","unico":"1","f2":"","listaeventos":"","validar":"","defVal":"","codejs":"","codejsopenform":"","codecontroler":"","listafilter":"0","var":"_iniciales","i_pre":"","i_pos":""},"tel":{"label":"Tel","labelf":"Telefonos","uso":"A","usof":"alfa","tam":"s12 m6","posf":"4","funcion":"st","fcustom":"","dec":"0","checkvalor":"","tipolista":"list","tamlista":"293.58331298828125px","checklista":"","listalista":"","campojoin":"","f1":"","search":"1","required":"0","readonly":"","unico":"0","f2":"","listaeventos":"","validar":"","defVal":"","codejs":"","codejsopenform":"","codecontroler":"","listafilter":"0","var":"_tel","i_pre":"","i_pos":""},"cel":{"label":"Cel","labelf":"Celular","uso":"A","usof":"alfa","tam":"s12 m6","posf":"5","funcion":"st","fcustom":"","dec":"0","checkvalor":"","tipolista":"list","tamlista":"293.58331298828125px","checklista":"","listalista":"","campojoin":"","f1":"","search":"1","required":"0","readonly":"","unico":"0","f2":"","listaeventos":"","validar":"","defVal":"","codejs":"","codejsopenform":"","codecontroler":"","listafilter":"0","var":"_cel","i_pre":"","i_pos":""},"mail":{"label":"Mail","labelf":"","uso":"A","usof":"alfa","tam":"s12","posf":"6","funcion":"st","fcustom":"","dec":"0","checkvalor":"","tipolista":"list","tamlista":"293.5833435058594px","checklista":"","listalista":"","campojoin":"","f1":"","search":"1","required":"","readonly":"","unico":"","f2":"","listaeventos":"","validar":"mail","defVal":"","codejs":"","codejsopenform":"","codecontroler":"","listafilter":"0","var":"_mail","i_pre":"","i_pos":""},"dir":{"label":"Dir","labelf":"Direccion","uso":"A","usof":"alfa","tam":"s12","posf":"7","funcion":"st","fcustom":"","dec":"0","checkvalor":"","tipolista":"list","tamlista":"293.58331298828125px","checklista":"","listalista":"","campojoin":"","f1":"","search":"1","required":"0","readonly":"","unico":"0","f2":"","listaeventos":"","validar":"","defVal":"","codejs":"","codejsopenform":"","codecontroler":"","listafilter":"0","var":"_dir","i_pre":"","i_pos":"<\/div><\/div>"},"pass":{"label":"Password","labelf":"","uso":"A","usof":"pass","tam":"s12","posf":"3","funcion":"st","fcustom":"","dec":"0","checkvalor":"","tipolista":"-1","tamlista":"","checklista":"","listalista":"","campojoin":"","f1":"","search":"0","required":"1","readonly":"","unico":"0","f2":"","listaeventos":"","validar":"","defVal":"","codejs":"","codejsopenform":"","codecontroler":"","listafilter":"0","var":"_pass","i_pre":"","i_pos":""},"status":{"label":"St","labelf":"","uso":"G","usof":"-1","tam":"s12","posf":"8","funcion":"custom","fcustom":"1","dec":"0","checkvalor":"1\/0","tipolista":"status","tamlista":"45px","checklista":"","listalista":"","campojoin":"","f1":"","search":"0","required":"","readonly":"","unico":"","f2":"","listaeventos":"","validar":"","defVal":"1","codejs":"","codejsopenform":"","codecontroler":"","listafilter":"0","var":"_status","i_pre":"","i_pos":""}},"codejs":"function getIniciales(){\r\n  var n=$('#nombre').val();\r\n  var r='';\r\n  if (n!=''){\r\n    n=n.split(' ');\r\n    for (var i in n){\r\n      if (n[i]!=''){\r\n        r=r+n[i].substr(0,1);\r\n      }\r\n    }\r\n  }\r\n  if(r!=''){\r\n  \t$('#iniciales').val(r.toUpperCase());\r\n  }\r\n}","codejsopenform":"","codecontroler":"\r\n\tpublic function actionLogin()\r\n\t{\r\n\t\tif (\\Mk\\Inputs::post(\"login\"))\r\n\t\t{\r\n\t\t\t$email = \\Mk\\Inputs::post(\"doc\");\r\n\t\t\t$password = \\Mk\\Inputs::post(\"pass\");\r\n\t\t\t$view = $this-> getActionView();\r\n\t\t\t$error = false;\r\n\t\t\tif (empty($email))\r\n\t\t\t{\r\n\t\t\t\t$view-> set(\"doc_error\", \"debe Indicar Doc\");\r\n\t\t\t\t$error = true;\r\n\t\t\t}\r\n\t\t\tif (empty($password))\r\n\t\t\t{\r\n\t\t\t\t$view-> set(\"pass_error\", \"Debe indicar Password\");\r\n\t\t\t\t$error = true;\r\n\t\t\t}\r\n\t\t\tif (!$error)\r\n\t\t\t{\r\n\t\t\t\t$session = \\Mk\\Registry::get(\"session\");\r\n\t\t\t\t$user = new $this->_modelName();\r\n\t\t\t\t$user = $user->first(array(\r\n\t\t\t\t\t\"doc = ?\" => $email,\r\n\t\t\t\t\t\"pass = ?\" => $password,\r\n\t\t\t\t\t\"status = ?\" => 1\r\n\t\t\t\t\t));\r\n\t\t\t\t\/\/echo '<hr>Modelo '.$this->_modelName.' User:';print_r($user);\r\n\t\t\t\tif (!empty($user))\r\n\t\t\t\t{\r\n\t\t\t\t\t\/\/unset($user->pass);\r\n\t\t\t\t\t$id=$user->getPrimaryColumn(2);\r\n\t\t\t\t\t$this-> _setLoged($id,$user);\r\n\t\t\t\t\t$secureKey=$this->getKey();\r\n\t\t\t\t\theader(\"Location: index.php?\".$session-> get('Secure_page_'.$secureKey,''));\r\n\t\t\t\t\texit();\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\t$this-> _setLoged('',false);\r\n\t\t\t\t\t$view-> set(\"password_error\", \"Email address and\/or password are incorrect\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n","codeaftersave":"","codebeforesave":"","codeafterdelete":"","codebeforedelete":"","listatamvar1":"nombre"}